

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/title.png">
  <link rel="icon" href="/img/title.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="sobriver">
  <meta name="keywords" content="">
  
    <meta name="description" content="当做个人字典使用， 会进行不定期更新！ 几点注意事项 一次执行多条命令,可以有如下三种方法, 其区别如下:  分号： 顺序地独立执行各条命令， 彼此之间不关心是否失败， 所有命令都会执行 &amp;&amp;  ： 顺序执行各条命令， 只有当前一个执行成功时候， 才执行后面的 ||   ： 顺序执行各条命令， 只有当前面一个执行失败的时候， 才执行后面的   设置shell脚本遇到错误时自动退出,">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux常用命令与Shell语法总结">
<meta property="og:url" content="https://sobriver.top/%E7%BC%96%E7%A8%8B/linux/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%B8%8EShell%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93.html">
<meta property="og:site_name" content="知秋">
<meta property="og:description" content="当做个人字典使用， 会进行不定期更新！ 几点注意事项 一次执行多条命令,可以有如下三种方法, 其区别如下:  分号： 顺序地独立执行各条命令， 彼此之间不关心是否失败， 所有命令都会执行 &amp;&amp;  ： 顺序执行各条命令， 只有当前一个执行成功时候， 才执行后面的 ||   ： 顺序执行各条命令， 只有当前面一个执行失败的时候， 才执行后面的   设置shell脚本遇到错误时自动退出,">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hw-picture.oss-cn-beijing.aliyuncs.com/20210104190258.png">
<meta property="article:published_time" content="2021-07-05T21:23:15.000Z">
<meta property="article:modified_time" content="2022-04-05T16:00:00.000Z">
<meta property="article:author" content="sobriver">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="shell">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://hw-picture.oss-cn-beijing.aliyuncs.com/20210104190258.png">
  
  
  
  <title>Linux常用命令与Shell语法总结 - 知秋</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"sobriver.top","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<!-- hexo injector head_end start --><script async defer data-website-id="d4fba8dc-448b-4962-ba63-b25b6160247c" src="https://statis.acchw.top/umami.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>知秋</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" target="_blank" rel="noopener" href="https://foreverblog.cn/go.html">
                <i class="iconfont icon-kaggle"></i>
                虫洞
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Linux常用命令与Shell语法总结"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-07-05 21:23" pubdate>
          2021年7月5日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          12k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          98 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Linux常用命令与Shell语法总结</h1>
            
            
              <div class="markdown-body">
                
                <p><strong>当做个人字典使用， 会进行不定期更新！</strong></p>
<h1 id="几点注意事项"><a href="#几点注意事项" class="headerlink" title="几点注意事项"></a>几点注意事项</h1><ul>
<li><p>一次执行多条命令,可以有如下三种方法, 其区别如下:</p>
<ul>
<li>分号： 顺序地独立执行各条命令， 彼此之间不关心是否失败， 所有命令都会执行</li>
<li>&amp;&amp;  ： 顺序执行各条命令， 只有当前一个执行成功时候， 才执行后面的</li>
<li>||   ： 顺序执行各条命令， 只有当前面一个执行失败的时候， 才执行后面的</li>
</ul>
</li>
<li><p>设置shell脚本遇到错误时自动退出, 不执行后续命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">!/bin/bash -e 或者 <span class="hljs-built_in">set</span> -e</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="查看系统版本"><a href="#查看系统版本" class="headerlink" title="查看系统版本"></a>查看系统版本</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cat /proc/version<br></code></pre></td></tr></table></figure>



<h1 id="特殊文件"><a href="#特殊文件" class="headerlink" title="特殊文件"></a>特殊文件</h1><ul>
<li>&#x2F;dev&#x2F;null  重定向到此文件的数据都会被系统丢掉</li>
<li>&#x2F;dev&#x2F;tty 自动重定向到一个终端</li>
</ul>
<h1 id="函数使用"><a href="#函数使用" class="headerlink" title="函数使用"></a>函数使用</h1><blockquote>
<p>注意： 函数的定义要放在使用之前</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">函数定义</span><br>function funname() &#123;<br>    echo &quot;第n个参数为$&#123;n&#125;&quot;;<br>    action;<br>    retun;<br>&#125;<br><span class="hljs-meta prompt_"># </span><span class="language-bash">函数使用</span><br>funname param1 param2<br></code></pre></td></tr></table></figure>



<h1 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h1><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ruby">&gt; 覆写原先的内容<br><span class="hljs-meta prompt_">&gt;&gt;</span> 在原先的内容后追加<br><span class="hljs-variable">$?</span> 前一个命令或者函数的返回码, <span class="hljs-number">0</span>表示执行成功<br><span class="hljs-variable">$1</span> 表示第一个参数,<span class="hljs-variable">$2</span> 表示第二个<br><span class="hljs-variable">$#</span> 命令行参数的个数<br><span class="hljs-variable">$0</span> 当前程序的名称<br><span class="hljs-variable">$*</span> 以<span class="hljs-string">&quot;参数1 参数2 ...&quot;</span>的形式保存所有参数<br><span class="hljs-variable">$ </span>本程序进程<span class="hljs-variable constant_">PID</span><br><span class="hljs-variable">$!</span> 上一个命令的<span class="hljs-variable constant_">PID</span><br>脚本内取得输入命令时的参数:  <span class="hljs-variable">$n</span> n代表第几个参数<br><br></code></pre></td></tr></table></figure>



<h1 id="比较运算"><a href="#比较运算" class="headerlink" title="比较运算"></a>比较运算</h1><blockquote>
<p>一般用于在if条件中，用[]包裹，注意前后空格。 </p>
<p>同时注意为了防止空情况下导致的语法错误， 变量都加上双引号</p>
</blockquote>
<h2 id="数值比较"><a href="#数值比较" class="headerlink" title="数值比较"></a>数值比较</h2><ul>
<li>-ne 不等于则为真</li>
<li>-eq 等于则为真(用来判断数字）</li>
<li>-gt 大于则为真</li>
<li>-ge 大于等于为真</li>
<li>-lt 小于为真 </li>
<li>-le 小于等于为真</li>
</ul>
<h2 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h2><ul>
<li>var1 &#x3D; var2 判断两个字符串是否相等</li>
<li>var1 !&#x3D; var2 判断两个字符串是否不相等   </li>
<li>-n “$var” 当字符串的长度大于零时为真(要用双引号包括—）</li>
<li>-z “$var” 当字符串的长度等于零时为真(要用双引号包括—）</li>
</ul>
<h2 id="文件比较"><a href="#文件比较" class="headerlink" title="文件比较"></a>文件比较</h2><ul>
<li>-d  file   检查file是否存在并且是一个目录</li>
<li>-f   file   检查file是否存在并且是一个文件</li>
<li>-e  file   检查file是否存在</li>
</ul>
<h2 id="逻辑操作运算"><a href="#逻辑操作运算" class="headerlink" title="逻辑操作运算"></a>逻辑操作运算</h2><ul>
<li>[ condition1 ]  &amp;&amp; [ condition2 ]  与</li>
<li>[ condition1 ]   || [ condition2 ]   或</li>
</ul>
<h1 id="控制语句语法"><a href="#控制语句语法" class="headerlink" title="控制语句语法"></a>控制语句语法</h1><blockquote>
<p>控制条件condition用[]包起来,或者使用test语句.注意空格</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-keyword">if</span>语句:</span><br>if [ condition ];then<br>	command<br>fi<br><span class="hljs-meta prompt_"># </span><span class="language-bash">if-else:</span><br>if [ condition ];then<br>	command<br>elif [ condition2 ];then<br>	command<br>else<br>	command<br>fi<br><span class="hljs-meta prompt_"># </span><span class="language-bash"><span class="hljs-keyword">while</span>语句:</span><br>while [ condition ];do<br>	command<br>done<br></code></pre></td></tr></table></figure>



<h1 id="数学运算"><a href="#数学运算" class="headerlink" title="数学运算"></a>数学运算</h1><p><strong>推荐使用 $[] 这种格式</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">1.使用 $[]，推荐使用(注意在引用变量的时候需要加$)</span><br>n1=4<br>n2=3<br>n3=$[$n1 * $n2] #输出12<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">2.<span class="hljs-built_in">let</span>用法,提供常用运算符,</span><br>注意: 变量前不需要加$运算符且let之后的表达式不要有空格<br>no1=4;<br>no2=5;<br>let result=no1+no2<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">3.<span class="hljs-built_in">expr</span>用法，只识别部分比较简单的运算符</span><br>result=`expr 3 + 4`<br>result=`$no1 + 4`<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">3.注意,已上只能用于整数计算,下面这个也可用于浮点计算(使用bc命令)</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">输出2.24</span><br>echo &quot;4 * 0.56&quot; |bc<br><span class="hljs-meta prompt_"># </span><span class="language-bash">输出81.0</span><br>no=54<br>result=`echo &quot;Sno * 1.5&quot; |bc`<br>echo $result<br></code></pre></td></tr></table></figure>



<h1 id="文件读取"><a href="#文件读取" class="headerlink" title="文件读取"></a>文件读取</h1><blockquote>
<p>以每一行为单位依次读取文件</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">while read line; do<br>	echo $line<br>done &lt; /home/db2inst1/temp1.txt<br></code></pre></td></tr></table></figure>



<h1 id="数组操作"><a href="#数组操作" class="headerlink" title="数组操作"></a>数组操作</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">定义数组(数组下标从0开始)</span><br>my_array=(A B &quot;C&quot; D)<br><span class="hljs-meta prompt_"># </span><span class="language-bash">定义一个空数组</span><br>my_array=()<br><span class="hljs-meta prompt_"># </span><span class="language-bash">读取数组</span><br><span class="hljs-meta prompt_">$</span><span class="language-bash">&#123;my_array[index]&#125;</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">给数组某一项赋值(注意此处不需要使用$)</span><br>my_array[0]=1<br><span class="hljs-meta prompt_"># </span><span class="language-bash">获取数组的长度</span><br><span class="hljs-meta prompt_">$</span><span class="language-bash">&#123;<span class="hljs-comment">#my_array[@]&#125;</span></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">遍历数组(每一项为具体值)</span><br>for item in $&#123;arr[@]&#125;<br>do<br>	echo $item<br>done<br><span class="hljs-meta prompt_"># </span><span class="language-bash">遍历数组(每一项为数组下标)</span><br>for  i $&#123;!arr[@]&#125;<br>do<br>	echo $i<br>done<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将某条命令执行的结果全赋值给数组</span><br>my_arr=(`awk &#x27;&#123;print $2&#125;&#x27; file.txt`)<br><br></code></pre></td></tr></table></figure>



<h1 id="for循环写法"><a href="#for循环写法" class="headerlink" title="for循环写法"></a>for循环写法</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">循环10次</span><br>for i in $(seq 1 10)<br>do<br>	echo $i<br>done<br></code></pre></td></tr></table></figure>



<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><p>正则表达式可用于sed, awk,grep等命令.</p>
<p>注意, sed只能使用基本正则表达式,不能使用扩展的正则表达式,sed在使用时需要使用&#x2F;&#x2F;来包裹</p>
<h2 id="基本正则表达式"><a href="#基本正则表达式" class="headerlink" title="基本正则表达式"></a>基本正则表达式</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">1. 基础用法, 匹配含有word的行</span><br>grep &#x27;word&#x27; file_name<br><span class="hljs-meta prompt_"># </span><span class="language-bash">2. ^word 匹配word在行首的行</span><br>grep &#x27;^word&#x27; file_name<br><span class="hljs-meta prompt_"># </span><span class="language-bash">3. word$ 匹配word在行尾的行</span><br>grep &#x27;word$&#x27; file_name<br><span class="hljs-meta prompt_"># </span><span class="language-bash">4. .  匹配除换行符之外的任意一个字符(空格也是一个字符),该处必须有字符存在</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">匹配行中含有at的字符,且at前面有一个字符,如下面第一行,第三行可以匹配,第二行不能匹配,因为at在行首,前面无任何字符</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">This is at dog</span>  <br><span class="hljs-meta prompt_">#</span><span class="language-bash">at a dog</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">th hs <span class="hljs-built_in">cat</span> fd</span><br>sed -n &#x27;/.at/p&#x27; file_name <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">5. * 匹配0个或任意多个前一个正则表达式字符</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">以下全部匹配</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">i ha kg</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">kkkkg</span><br>grep &#x27;k*g&#x27; file_name<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">6. [] 搜索集合字符, []括号内的^表示除[]内的字符之外的所有字符</span><br>grep &#x27;[0-9]&#x27; file_name # 匹配出现数字的行<br>grep &#x27;[abc]&#x27; file_name # 匹配出现a或者b或者c的行<br>grep &#x27;[a-z]&#x27; file_name # 匹配出现小写字母的行<br>grep &#x27;[A-Z]&#x27; file_name # 匹配出现大写字母的行<br>grep &#x27;[a-zA-Z0-9]&#x27; file_name # 匹配出现字母或数字的行<br><span class="hljs-meta prompt_"># </span><span class="language-bash">7. x\&#123;\&#125; 匹配字符连续出现的次数,注意若是单词需要分别写</span><br>grep &#x27;m\&#123;2\&#125;&#x27; file_name #匹配字母m连续出现2次的行, 如 hsjmmjs<br>grep &#x27;m\&#123;2,4\&#125;&#x27; file_name #匹配字母m出现次数在2到4次的文本<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">其他示例</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">匹配一个IP地址</span><br>grep &#x27;[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;&#x27; file_name<br><span class="hljs-meta prompt_"># </span><span class="language-bash">匹配形如 <span class="hljs-string">&quot;13445676789&quot;</span> 的字符串,开始和结束是双引号,中间是个11位数字</span><br>grep &#x27;&quot;[0-9]\&#123;11\&#125;&quot;&#x27; file_name<br></code></pre></td></tr></table></figure>

<h2 id="扩展正则表达式"><a href="#扩展正则表达式" class="headerlink" title="扩展正则表达式"></a>扩展正则表达式</h2><p>grep使用时要加-E参数(好像不加也行?)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">1. ? 与星号类似,但前面的字符只能出现0次或1次</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">bet   匹配</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">bt    匹配</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">beet  不匹配</span><br>grep -E &#x27;be?t&#x27; file_name<br><span class="hljs-meta prompt_"># </span><span class="language-bash">2. + 与星号类似,但前面的字符至少出现1次(注意点号是指当前位置必须有一个字符)</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">bt  不匹配</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">bet 匹配</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">beeet 匹配</span><br>grep -E &#x27;be+t&#x27; file_name<br><span class="hljs-meta prompt_"># </span><span class="language-bash">3.管道符 |, 逻辑或的意思</span><br></code></pre></td></tr></table></figure>



<h1 id="getops"><a href="#getops" class="headerlink" title="getops"></a>getops</h1><p>解析命令行参数</p>
<p>以下表示获取命令行参数 -d -t的值</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell">while getopts &#x27;d:t:&#x27; OPT; do<br>  case $OPT in<br>    d)<br>      echo &quot;d $OPTARG&quot;<br>      exit 0;;<br>    t)<br>      echo &quot;t $OPTARG&quot;;;<br>    ?)<br>      echo &quot;no match&quot;<br>  esac<br>done<br></code></pre></td></tr></table></figure>

<p>其中getopt和getopt的区别以及getopt的详细用法示例见：<a target="_blank" rel="noopener" href="https://blog.sigoden.com/how-to-use-getopt-to-build-cli/">https://blog.sigoden.com/how-to-use-getopt-to-build-cli/</a></p>
<h1 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h1><p>工作流程: 读入有\n换行符分割的一条记录,然后将该记录按指定的域分隔符划分域(默认的域分隔符是空格符)</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><blockquote>
<p>awk  参数  ‘BEGIN{ commands } pattern  { commands} END{commands}’</p>
</blockquote>
<p>参数: -F  指定字段定界符,默认是空格,可以是正则表达式， 注意分隔符直接跟在后面， 不需要任何符号</p>
<p>pattern: 模式,可以是正则表达式,用来匹配每一行,使用&#x2F;&#x2F;包裹, 如 &#x2F;^tcp&#x2F;表示匹配每一行开头以tcp开始</p>
<p>BEGIN内指定参数: </p>
<ul>
<li>FS 同-F; FS&#x3D;”” 表示以空行切分记录</li>
</ul>
<p>特殊参数:</p>
<ul>
<li>$0 所有域, $1 第一个域, $2 第二个域,以此类推</li>
<li>$NF 表示一行中的最后一个字段</li>
</ul>
<p>流程控制语法:</p>
<p><code>if(condition)&#123;&#125; else if(condition)&#123;&#125; else&#123;&#125;</code></p>
<p>循环语法:</p>
<p><code>for (i=0; i&lt;3;i++)&#123;&#125;</code></p>
<h2 id="指定分隔符"><a href="#指定分隔符" class="headerlink" title="指定分隔符"></a>指定分隔符</h2><p>有三种方法，下面分别是指定分隔符为逗号时的写法：</p>
<ol>
<li>使用 -F 指定，注意其后不需要任何符号， 语法：<code>awk -F, file</code></li>
<li>使用FS指定，加上-v参数， 语法： <code>awk -v FS=&quot;,&quot; file</code></li>
<li>在BEGIN内部指定， 语法： <code>awk &#39;BEGIN &#123;FS=&quot;,&quot;&#125;&#39; file</code></li>
</ol>
<h2 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h2><ul>
<li><p>length(string)  获取字符串长度(字符数)</p>
</li>
<li><p>拼接字符串时不需要使用任何修饰符,直接即可</p>
</li>
<li><p>printf() 格式化输出,默认不输出换行符.<br>%s 字符; %d 整数,小数取整直接去除尾数; %.2f 小数,2表示小数点保留两位,最后一位四舍五入<br>printf(“%.2f\n”, 1.3374)  输出1.34</p>
</li>
<li><p>split(string,array [,r])  字符串拆分,返回拆分后数组大小string:待拆分的字符串,array:拆分后结果保存的数组,r:分隔符,可选,默认FS值;拆分后的数组下标从1开始,<br><code>for(k in arr)&#123;print arr[k]&#125;</code></p>
</li>
<li><p>substr(s,i [,n]) 字符串截取<br>s:待截取字符串;i:索引位置,从1开始;n:要截取的长度.默认截取到字符尾。</p>
</li>
<li><p>字符串查找:index(s,t), match(s,r [,a])<br>返回第一次匹配成功的索引位置,从1开始,失败返回0<br>s: 待查找的字符串;t:目标子串<br>r: 查询的正则表达式, a 结果二维数组</p>
</li>
<li><p>字符串替换</p>
<ul>
<li>sub(r,s[,t]) 替换首次匹配到的子串,返回成功替换子串的数目,r 用于匹配的正则表达式,s 要替换的字符串值,t 目标字符串n,默认$0</li>
<li>gsub(r,s[,t]) 用法同sub,替换所有匹配到的子串</li>
<li>gensub(r,s,h[,t])  h: “g”表示全局替换,或是用数字指定子串出现的位置</li>
</ul>
</li>
</ul>
<h2 id="时间函数"><a href="#时间函数" class="headerlink" title="时间函数"></a>时间函数</h2><ul>
<li>systime() 返回精确到秒的当前时间戳</li>
<li>mktime(date) 获取指定时间的时间戳,date格式: “YYYY MM DD HH MM SS”</li>
<li>strftime() 转化时间字符串</li>
</ul>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul>
<li><p>当字符串中含有单引号，转义写法如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">此为打印单引号，比较字符串的单引号同理</span><br>awk &#x27;&#123;print &quot;&#x27;\&#x27;&#x27;&quot;&#125;&#x27; <br></code></pre></td></tr></table></figure>
</li>
<li><p>awk中比较在一个范围之内不能用连写方式，如 2&lt;x&lt;7是错误的,应写成 x&gt;2 &amp;&amp; x&lt;7</p>
</li>
<li><p>awk 使用外部变量，需要在Action之后定义变量，如下所示使用外部test变量：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">test=hhhhfudfhdhf<br>awk &#x27;&#123;print test&#125;&#x27; test=&quot;$test&quot; filename<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">假设一个目录下的文件按照时间进行命名， 如202204011628.tar.gz,现在要取出每个文件名的前8位（也就是年月日）， 操作如下</span><br>ls|awk &#x27;BEGIN &#123;FS=&quot;.&quot;&#125; &#123;a=substr($1,1,8);print a&#125;&#x27;<br></code></pre></td></tr></table></figure>





<h1 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h1><p>在命令之前加上<strong>LANG&#x3D;C</strong>之后可大幅提高检索速度, 如 LANG&#x3D;C grep -ia -B 1 Exception filename</p>
<p><strong>参数说明:</strong></p>
<ul>
<li>-i 忽略大小写</li>
<li>-a 显示文本(当使用通配符搜索文件内容时，有时只显示匹配的文件名而不显示匹配的内容，用此参数即可）</li>
<li>-e 指定多个匹配样式</li>
<li>-c 计算找到的符合行的次数</li>
<li>-n 输出匹配行的行号</li>
<li><strong>-v 反转查找</strong></li>
<li>-w 只显示全字符合的列</li>
<li>-A n 打印匹配行和匹配行之后的n行</li>
<li>-B n 打印匹配行和匹配行之前的n行</li>
<li>-C n 打印匹配行和匹配行之前,之后的n行,共2n+1</li>
<li>-h 在显示匹配行的那一列之前,不显示该列的文件名称</li>
<li>-o 只输出文件中匹配到的部分</li>
</ul>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">过滤时间段内的数据, 例如[15:10:00,15:20:00)</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">需要注意，正则表达式中的数字范围只能是一位整数</span><br>grep &quot;15:1[0-9]&quot; file<br></code></pre></td></tr></table></figure>



<h1 id="zgrep"><a href="#zgrep" class="headerlink" title="zgrep"></a>zgrep</h1><p>可以搜索gz压缩文件内的内容。用法同grep</p>
<h1 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h1><h2 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h2><p><code> sed  options script file</code></p>
<p>默认不对原文件进行修改,处理的是原文件的拷贝</p>
<p><strong>options参数:</strong> </p>
<ul>
<li>-n 取消默认的输出,仅显示处理后的结果</li>
<li>-e 以选项中指定的script处理</li>
<li><strong>-i  直接修改原文件,慎用</strong></li>
</ul>
<p><strong>script 参数:</strong></p>
<ul>
<li>d 删除</li>
<li>p 打印</li>
<li>s 替换</li>
</ul>
<h2 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h2><ul>
<li>若在sed命令中使用外部的变量，此时匹配规则必须使用双引号</li>
</ul>
<h2 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">打印第三行</span><br>sed -n &#x27;3p&#x27; file <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">打印第200行到300行</span><br>sed -n &#x27;200,300p&#x27; file <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">删除文件中的所有空白行</span><br>sed -n &#x27;/^$/d&#x27; file <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">在每个有Statement行的下一行添加一个空行</span><br>sed &#x27;/Statemt/G&#x27; <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将文件中含有<span class="hljs-built_in">test</span>字符串的行打印出来</span><br>sed -n &#x27;/test/p&#x27; test.txt <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将文件中my字符替换为Bob</span><br>sed &#x27;s/my/Bob/g&#x27; test.txt<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将文件中第三行替换为huang</span><br>sed -i &#x27;3s/.*/huang/&#x27; file<br></code></pre></td></tr></table></figure>



<h1 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h1><p>-n 省略结尾的换行符,直接在文本后面输入</p>
<h1 id="read"><a href="#read" class="headerlink" title="read"></a>read</h1><p>read value 读取用户输入</p>
<h1 id="df"><a href="#df" class="headerlink" title="df"></a>df</h1><p>显示磁盘信息</p>
<ul>
<li>-a 所有</li>
<li>-h 可读性较好显示</li>
</ul>
<h1 id="tail-amp-head"><a href="#tail-amp-head" class="headerlink" title="tail &amp; head"></a>tail &amp; head</h1><p>从前面和后面查看文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash"> 显示文件最后n行</span><br>tail -n file <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">实时查看文件内容, 一般查看实时查看日志文件用此命令</span><br>tail -f file<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">显示文件的前n行</span><br>head -n file <br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">显示文件的m到n行</span><br>head -n file | tail -m<br></code></pre></td></tr></table></figure>



<h1 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h1><p>压缩文件</p>
<ul>
<li>-q 不显示指令执行过程</li>
<li>-r 递归处理</li>
</ul>
<p><strong>示例</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">将 /home/db2/ddl目录下所有文件和文件夹压缩至当前目录的test.zip文件</span><br>zip -q -r test.zip  /home/db2/ddl <br></code></pre></td></tr></table></figure>



<h1 id="typeset"><a href="#typeset" class="headerlink" title="typeset"></a>typeset</h1><p>设置变量</p>
<h1 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h1><p>查看网络情况。</p>
<p>显示项Recv-Q, Send-Q表示网络接受队列,发送队列.一般情况下为0,可接受短暂的非0状态。</p>
<h2 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">统计各个Tcp状态的连接有多少个</span><br>netstat -n | awk &#x27;/^tcp/ &#123;++state[$NF]&#125; END &#123;for(key in state) print key,&quot;\t&quot;,state[key]&#125;&#x27;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">统计与nginx建立连接的IP，并包含各个IP的连接数</span><br>netstat -ntp | grep nginx | grep -v &quot;127.0.0.1&quot; | awk &#x27;&#123;print $5&#125;&#x27; | awk -F &#x27;:&#x27; &#x27;&#123;print $1&#125;&#x27; | sort | uniq -c<br></code></pre></td></tr></table></figure>





<h1 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h1><blockquote>
<p>显示系统进程信息(linux中线程是伪线程，用轻量级进程来实现的，所以查看线程信息也是用此命令）</p>
</blockquote>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ul>
<li>-ef 显示系统运行的所有进程信息</li>
</ul>
<h2 id="返回信息"><a href="#返回信息" class="headerlink" title="返回信息"></a>返回信息</h2><ul>
<li>PID ：该进程的进程ID号</li>
<li>%CPU：该进程使用掉的 CPU 资源百分比</li>
<li>%MEM：该进程所占用的物理内存百分比</li>
<li>VSZ ：该进程使用掉的虚拟内存量 (单位KB)</li>
<li><strong>RSS ：该进程占用的固定的内存量</strong> (单位KB)</li>
<li>TTY ：该进程表示在哪个终端机上面运作，其取值可能有如下几种<ul>
<li>?   与终端机无关</li>
<li>tty1-tty6  本机上面的登入者程序</li>
<li>pts&#x2F;0  由网络连接进主机的程序</li>
</ul>
</li>
<li>STAT：该程序目前的状态，主要的状态有<ul>
<li>R ：该程序目前正在运作，或者是可被运作</li>
<li>S ：该程序目前正在睡眠当中 (可说是 idle 状态啦！)，但可被某些讯号(signal) 唤醒</li>
<li>T ：该程序目前正在侦测或者是停止了</li>
<li>Z ：该程序应该已经终止，但是其父程序却无法正常的终止他，造成 zombie (疆尸) 程序的状态</li>
</ul>
</li>
<li>START：该进程被触发启动的时间</li>
<li>TIME ：该进程实际使用 CPU 运作的时间</li>
</ul>
<h1 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h1><p> 定时任务.</p>
<h2 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h2><ul>
<li>-l  查看现有cron表中的内容</li>
<li>-e 编辑</li>
</ul>
<p>cron文件的语法如下:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">f1 f2 f3 f4 f5 program<br></code></pre></td></tr></table></figure>

<ul>
<li>其中 f1 是表示分钟，f2 表示小时，f3 表示一个月份中的第几日，f4 表示月份，f5 表示一个星期中的第几天。program 表示要执行的程序。</li>
<li>当 f1 为 * 时表示每分钟都要执行 program，f2 为 * 时表示每小时都要执行程序，其馀类推</li>
<li>当 f1 为 a-b 时表示从第 a 分钟到第 b 分钟这段时间内要执行，f2 为 a-b 时表示从第 a 到第 b 小时都要执行，其馀类推</li>
<li>当 f1 为 *&#x2F;n 时表示每 n 分钟个时间间隔执行一次，f2 为 *&#x2F;n 表示每 n 小时个时间间隔执行一次，其馀类推</li>
<li>当 f1 为 a, b, c,… 时表示第 a, b, c,… 分钟要执行，f2 为 a, b, c,… 时表示第 a, b, c…个小时要执行，其馀类推</li>
</ul>
<h2 id="示例-3"><a href="#示例-3" class="headerlink" title="示例"></a>示例</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">每一分钟执行一次</span><br>* * * * * program<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">每天7:50执行一次</span><br>50 7 * * * program<br></code></pre></td></tr></table></figure>

<h2 id="创建定时任务步骤"><a href="#创建定时任务步骤" class="headerlink" title="创建定时任务步骤"></a>创建定时任务步骤</h2><p>crontab -e </p>
<p>其他常用命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">当有service命令</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">启动</span><br>service crond start<br><span class="hljs-meta prompt_"># </span><span class="language-bash">停止</span><br>service crond stop<br><span class="hljs-meta prompt_"># </span><span class="language-bash">重启</span><br>service crond restart<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">当没有service命令</span><br>/etc/init.d/cron stop<br>/etc/init.d/cron start<br>/etc/init.d/cron restart<br></code></pre></td></tr></table></figure>



<h1 id="tee"><a href="#tee" class="headerlink" title="tee"></a>tee</h1><p>运行结果同时输出到终端和文件</p>
<p><code>ls |tee log.log</code></p>
<h1 id="du"><a href="#du" class="headerlink" title="du"></a>du</h1><blockquote>
<p>显示文件或目录大小</p>
</blockquote>
<ul>
<li>-c 除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和</li>
<li>-h 按友好模式显示</li>
<li>-s 只显示目录总大小</li>
<li>-l 重复计算硬件连接的文件</li>
<li>–max-depth 超过指定层数的目录后，予以忽略</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">查看当前目录总大小</span><br>du -sh<br><span class="hljs-meta prompt_"># </span><span class="language-bash">查看当前目录下一级子文件和子目录占用的磁盘容量</span><br>du -lh --max-depth=1<br><span class="hljs-meta prompt_"># </span><span class="language-bash">统计当前文件夹(目录)大小，并按文件大小排序</span><br>du -sh * | sort -n<br></code></pre></td></tr></table></figure>




<h1 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h1><p>Linux服务器之间传输文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">传输aa.txt文件到206服务器的home目录下</span><br>scp aa.txt usroot@22.5.229.206:/home/<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">206服务器下载aa.txt文件到本服务器当前路径：</span> <br>scp usroot@22.5.229.206:/home/aa.txt .<br></code></pre></td></tr></table></figure>



<h1 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h1><p>排序. 排序时以行为单位</p>
<ul>
<li>-r 下降排序,默认升序</li>
<li>-n 按照数值大小排序</li>
<li>-k 指定排序所依据的列数,从1开始</li>
<li>-t 指定排序时的列分隔符</li>
<li>-u 输出行中去除重复行</li>
</ul>
<h1 id="uniq"><a href="#uniq" class="headerlink" title="uniq"></a>uniq</h1><blockquote>
<p>忽略文件中的重复行，常与sort一起使用</p>
</blockquote>
<ul>
<li>-c 在每列旁边显示该行重复出现的次数</li>
<li>-d 仅显示重复出现的行</li>
<li>-u 仅显示唯一出现的行</li>
</ul>
<p>注意： <strong>uniq的去重是将当前行与上一行进行对比， 所以为了得到整体去重， 需要先进行排序，在执行去重</strong></p>
<h1 id="top"><a href="#top" class="headerlink" title="top"></a>top</h1><p>实时显示系统进程情况.</p>
<p><img src="https://hw-picture.oss-cn-beijing.aliyuncs.com/20210104190258.png" srcset="/img/loading.gif" lazyload alt="20210104190258"></p>
<p>以下命令为进入该命令之后执行：</p>
<ul>
<li>M 根据内存大小进行排序</li>
<li>P 根据CPU使用百分比进行排序</li>
<li>T 根据时间&#x2F;累计时间排序</li>
</ul>
<p>输出参数说明:</p>
<ul>
<li>第一行相当于uptime命令输出<ul>
<li>第一列时间表示当前系统时间</li>
<li>第二列 up 6 days 58min, 表示系统已经运行时间</li>
<li>第三列 2 users, 表示表示当前有2个用户在登陆</li>
<li>第四列 load average三个值分别表示系统1分钟,5分钟,15分钟平均负载</li>
</ul>
</li>
<li>第二行 tasks信息表示系统运行的整体进程数量和状态信息<ul>
<li>zombie  僵尸进程数.</li>
</ul>
</li>
<li>第三行 %Cpu(s)表示的是总体CPU使用情况<ul>
<li><strong>us</strong> user 表示用户态的CPU时间比例. 当us很高时，证明CPU时间主要消耗在用户代码，需要优化用户代码</li>
<li><strong>sy</strong> system 表示内核态的CPU时间比例. 说明CPU时间都消耗在内核，要么是频繁的系统调用，要么是频繁的CPU切换（进程切换&#x2F;线程切换）</li>
<li><strong>wa</strong> iowait 表示处于IO等待的CPU时间比例. 很高时，说明有进程在进程频繁的IO操作，有可能是磁盘IO，也有可能是网络IO</li>
<li>ni nice 表示运行低优先级进程的CPU时间比例</li>
<li>id idle 表示空闲CPU时间比例</li>
<li>hi hard interrupt 表示处理硬中断的CPU时间比例</li>
<li>si soft interrupt 表示处理软中断的CPU时间比例</li>
<li>st steal 表示当前系统运行在虚拟机中的时候，被其他虚拟机占用的CPU时间比例</li>
</ul>
</li>
<li>第4行. 内存使用情况, 单位KiB<ul>
<li>totol 表示总内存</li>
<li>free 表示没使用过的内容</li>
<li>used是已经使用的内存</li>
<li>buff表示用于读写磁盘缓存的内存</li>
<li>cache表示用于读写文件缓存的内存</li>
<li>avail表示可用的应用内存</li>
</ul>
</li>
<li>第5行, swap使用情况, 单位KiB, Swap原理是把一块磁盘空间或者一个本地文件当成内存来使用. 这三个值都为0表示系统关闭了swap功能，虚拟机一般都关闭swap功能<ul>
<li>Swap total表示能用的swap总量</li>
<li>swap free表示剩余</li>
<li>used表示已经使用的</li>
</ul>
</li>
<li>之后为各个进程具体的信息.各字段说明如下<ul>
<li>PID 进程ID</li>
<li>USER 进程所有者的用户名，例如root</li>
<li>VIRT 虚拟内存, virtual memory usage。单位KB. 表示当前进程能够访问到的最大内存大小</li>
<li><strong>RES 物理内存（不包括共享内存), resident memory usage，单位KB。表示当前有多少物理内存被这个进程消费。如果申请 100m 的内存，实际使用 10m，那么RES &#x3D; 10m，VIRT&#x3D;100M。 一般情况下看此值大小即可</strong></li>
<li><strong>SHR 进程使用的共享内存. 单位KB</strong></li>
<li>CPU 进程使用的CPU占比</li>
<li>MEM 进程使用的内存占比</li>
<li>TIME 进程启动后到现在所用的全部CPU时间</li>
<li>COMMAND 进程的启动命令（默认只显示二进制，top -c能够显示命令行和启动参数）</li>
</ul>
</li>
</ul>
<h1 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h1><p>ls -l 的输出内容格式如下: </p>
<p><code>-rw-r--r-- 1 root root 25934 Jun 26 10:35 X120</code></p>
<p>参数:</p>
<ul>
<li>-h 友好方式显示大小</li>
<li>-a 所有</li>
<li>-l 详细格式列表</li>
<li>-t 用文件和目录的更改时间排序</li>
<li>-r 反向排序</li>
</ul>
<p>添加-l参数时详细输出参数说明:</p>
<ul>
<li>第一列<ul>
<li>第一个， 文件类型<ul>
<li>d 目录</li>
<li>-文件，</li>
<li>c 字符型文件</li>
<li>b 块设备</li>
<li>l 链接文件</li>
</ul>
</li>
<li>接下来三个为一组，用来表示权限信息，其中 r 读， w 写， x 执行. 具体如下:<ul>
<li>2,3,4：文件所有者权限</li>
<li>5,6,7：同用户组的权限</li>
<li>8,9,10：非本用户组的权限</li>
</ul>
</li>
</ul>
</li>
<li>第二列：有多少文件名连接到此节点</li>
<li>第三列：所有者账号</li>
<li>第四列：文件所属的用户组</li>
<li>第五列：文件大小，默认B</li>
<li>第六列：最近修改日期</li>
</ul>
<p>示例:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">仅显示目录名</span><br>ls -d */<br></code></pre></td></tr></table></figure>



<h1 id="stat"><a href="#stat" class="headerlink" title="stat"></a>stat</h1><blockquote>
<p><strong>查看文件属性，包括文件创建时间</strong></p>
</blockquote>
<ul>
<li>Access 访问时间，每读一次这个文件内容，就会更新。比如对这个文件使用more命令。ls、stat命令都不会修改文件的访问时间</li>
<li>Modify 修改时间，对文件内容进行写操作，就会更新。比如：vi后保存文件。ls -l列出的时间就是这个时间。</li>
<li>Change 状态改变时间，通过chmod命令更改一次文件属性，这个时间就会更新。</li>
</ul>
<h1 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h1><p>打包与压缩命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">将/home文件夹下所有内容打包压缩</span><br>tar -czvf home.tar.gz /home<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">解压文件</span><br>tar -xzvf home.tar.gz<br></code></pre></td></tr></table></figure>





<h1 id="split"><a href="#split" class="headerlink" title="split"></a>split</h1><p>分割大文件为多个小文件</p>
<p>参数:</p>
<ul>
<li>-b value  按value大小分割文件,即分割后每个文件大小为value(单位为byte)</li>
<li>-l value  按行数分割文件,即分割后每个文件行数为value</li>
<li>-d 使用数字作为文件名后缀</li>
</ul>
<h1 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h1><p>不带任何参数, 默认发送get请求</p>
<p>参数:</p>
<ul>
<li><p>-d 发送post请求的数据体</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -d <span class="hljs-string">&#x27;login=emma＆password=123&#x27;</span> -X POST https:<span class="hljs-regexp">//g</span>oogle.com/login<br></code></pre></td></tr></table></figure>
</li>
<li><p>-H  设置请求头</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -H <span class="hljs-string">&#x27;Content-Type: application/json&#x27;</span> https:<span class="hljs-regexp">//g</span>oogle.com/login<br></code></pre></td></tr></table></figure>
</li>
<li><p>-o 将服务器回应保存成文件, 等同于wget</p>
</li>
<li><p>-s 不输出错误和进度信息</p>
</li>
<li><p>-X 指定请求的方法</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -X POST https:<span class="hljs-regexp">//</span>www.example.com<br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h1><blockquote>
<p>语法:  xargs   [-options]    [command]</p>
<p>作用是将标准输入转为命令行参数</p>
</blockquote>
<p>管道符|将左侧的标准输出转化为标准输入, 供右边命令使用, 但是这需要右边命令支持标准输入作为参数, 如grep是支持的, 下面命令是可以的.</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">ps</span> -ef|<span class="hljs-keyword">grep</span> java<br></code></pre></td></tr></table></figure>

<p>但是很多命令不支持标准输入作为参数, 如echo, 下面这条命令没有任何输出</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;sdsd&quot;</span>|<span class="hljs-built_in">echo</span><br></code></pre></td></tr></table></figure>

<p>下面这条命令输出 sdsd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;sdsd&quot;</span>|xargs <span class="hljs-built_in">echo</span><br></code></pre></td></tr></table></figure>

<p>参数:</p>
<ul>
<li>-d 指定分隔符,默认将换行符和空格作为分隔符,如制表符为”\t”</li>
</ul>
<p>示例：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">保留当前目录下所有txt格式的文件， 删除所有其他类型的文件</span><br>ls|grep -v &quot;.txt&quot;|xargs rm<br></code></pre></td></tr></table></figure>



<h1 id="lsof"><a href="#lsof" class="headerlink" title="lsof"></a>lsof</h1><p>查看某个端口占用情况.一般查看端口冲突时可使用该软件.</p>
<p><code> lsof -i:port</code></p>
<h1 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a>nohup</h1><p>nohup输出的信息不输出到文件</p>
<p><code>nohup ./program &gt;/dev/null 2&gt;&amp;1 &amp;</code></p>
<h1 id="htop"><a href="#htop" class="headerlink" title="htop"></a>htop</h1><blockquote>
<p>相比于top显示的信息更加详细</p>
</blockquote>
<p>注意几点：</p>
<ul>
<li>htop默认会把一个进程里的线程当做一个进程来显示出来，若要关闭线程，只显示进程，按F2，再选择 Display options，再选择 Hide userland threads</li>
</ul>
<h1 id="nload"><a href="#nload" class="headerlink" title="nload"></a>nload</h1><p> 查看各个网络设备的当前网络速率，也会展示流经设备的总流量 。</p>
<p>也可指定网卡， 如查看网卡eth0的流量 <code>nload etho</code></p>
<p>注意：页面上显示的速率单位MBit&#x2F;s， 是M比特每秒， 换算成正常的MB&#x2F;s（M字节每秒）需要除以8</p>
<h1 id="date"><a href="#date" class="headerlink" title="date"></a>date</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">格式化成 2020-01-12 23:23:34</span><br>date &quot;+%Y-%m-%d %H:%M:%S&quot;<br><br>date -d &quot;+1 day&quot; +%Y%m%d   #显示后一天的日期 <br>date -d &quot;-1 day&quot; +%Y%m%d   #显示前一天的日期 <br>date -d &quot;-1 month&quot; +%Y%m%d #显示上一月的日期 <br>date -d &quot;+1 month&quot; +%Y%m%d #显示下一月的日期 <br>date -d &quot;-1 year&quot; +%Y%m%d  #显示前一年的日期 <br>date -d &quot;+1 year&quot; +%Y%m%d  #显示下一年的日期<br></code></pre></td></tr></table></figure>


                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BC%96%E7%A8%8B/" class="category-chain-item">编程</a>
  
  
    <span>></span>
    
  <a href="/categories/%E7%BC%96%E7%A8%8B/linux/" class="category-chain-item">linux</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/linux/">#linux</a>
      
        <a href="/tags/shell/">#shell</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Linux常用命令与Shell语法总结</div>
      <div>https://sobriver.top/编程/linux/Linux常用命令与Shell语法总结.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>sobriver</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2021年7月5日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/%E7%BC%96%E7%A8%8B/linux/Linux%E5%B8%B8%E7%94%A8%E5%8E%8B%E6%B5%8B%E5%92%8C%E7%A1%AC%E4%BB%B6%E6%B5%8B%E8%AF%95%E5%91%BD%E4%BB%A4.html" title="Linux压测和硬件测试命令">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Linux压测和硬件测试命令</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createCssLink('https://lib.baomitu.com/waline/2.5.1/waline.min.css')
      Fluid.utils.createScript('https://lib.baomitu.com/waline/2.5.1/waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"https://remark.acchw.top","path":"window.location.pathname","meta":["nick","mail","link"],"requiredMeta":["nick"],"lang":"zh-CN","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"dark":"html[data-user-color-scheme=\"dark\"]","wordLimit":0,"pageSize":10},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        Waline.init(options);
        Fluid.utils.waitElementVisible('#waline .vcontent', () => {
          var imgSelector = '#waline .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
